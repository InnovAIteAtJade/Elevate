<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

<title>Coming Soon</title>

<style>
body {
  margin:0;
  height:100vh;
  background:black;
  overflow:hidden;
  font-family:"Courier New", monospace;
}

#countdown-container {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  text-align:center;
  z-index:50;
  color:white;
  pointer-events:none;
}

#countdown-label {
  font-size:1.4rem !important;
  margin-bottom:0.3rem;
}

#countdown {
  font-size:2.2rem !important;
  font-weight:bold;
  color:white;
  text-shadow:0 0 10px #00ff00,0 0 20px #00ff00;
}

#reactor-fill {
  position:absolute;
  top:50%;
  left:50%;
  width:80vw;
  height:80vw;
  max-width:420px;
  max-height:420px;
  transform:translate(-50%, -50%);
  z-index:6;
  border-radius:50%;
  overflow:hidden;
}

.side-panel {
  position:absolute;
  top:50%;
  width:280px;
  padding:20px;
  background:rgba(0,0,0,0.3);
  border:2px solid #00ffbf;
  backdrop-filter:blur(4px);
  transform:translateY(-50%);
  box-shadow:0 0 22px rgba(0,255,180,0.25);
  z-index:3;
  transition: all 2s ease-in;
}

#left-panel { left:40px; border-color:#FFB700; }
#right-panel { right:40px; border-color:#1B5287; }

.panel-title {
  color:#00ffe0;
  margin-bottom:10px;
}

.panel-log {
  height:180px;
  overflow:hidden;
  opacity:0.85;
  color:#00ffb5;
  position:relative;
}

.scanlines {
  position:fixed;
  top:0; left:0; right:0; bottom:0;
  pointer-events:none;
  background:repeating-linear-gradient(transparent 0px, transparent 2px, rgba(0,255,170,0.03) 3px);
  z-index:999;
}

#matrix-canvas {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  z-index:1000;
  pointer-events:none;
}
</style>
</head>

<body>

<div id="reactor-anchor">
  <canvas id="reactor-fill"></canvas>

  <div id="countdown-container">
    <div id="countdown-label">Event starts in:</div>
    <div id="countdown">Loading...</div>
  </div>
</div>

<canvas id="matrix-canvas"></canvas>

<div id="left-panel" class="side-panel">
  <div class="panel-title">[NODE ALPHA]</div>
  <div class="panel-log" id="log1"></div>
</div>

<div id="right-panel" class="side-panel">
  <div class="panel-title">[NODE OMEGA]</div>
  <div class="panel-log" id="log2"></div>
</div>

<div class="scanlines"></div>

<script>
const canvas = document.getElementById("reactor-fill");
const ctx = canvas.getContext("2d");

let cx=210, cy=210, radius=200;

function resizeCanvas(){
  const size = canvas.clientWidth;
  canvas.width = size;
  canvas.height = size;
  cx = size / 2;
  cy = size / 2;
  radius = size / 2 - 10;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

const fixedStartDate = new Date("2025-12-30T00:00:00");
const targetDate = new Date("2026-01-07T12:30:00");
const totalDuration = targetDate - fixedStartDate;

function cycleLogs(el, lines){
  let i=0;
  el._int = setInterval(()=>{
    el.innerHTML += "> "+lines[i]+"<br>";
    if(el.innerHTML.split("<br>").length>8)
      el.innerHTML = el.innerHTML.split("<br>").slice(1).join("<br>");
    i = (i+1) % lines.length;
  },1500);
}

const log1 = document.getElementById("log1");
const log2 = document.getElementById("log2");

cycleLogs(log1, [
  "Initializing node systems...",
  "Analyzing streams...",
  "Telemetry anomaly detected",
  "Preparing core modules...",
  "Syncing interfaces..."
]);

cycleLogs(log2, [
  "Monitoring sequences...",
  "Transmission nominal...",
  "Analyzing packets...",
  "System stable..."
]);

let draining=false;
let drainProgress=0;
let matrixActive=false;

const matrixCanvas=document.getElementById("matrix-canvas");
const mctx=matrixCanvas.getContext("2d");
matrixCanvas.width=window.innerWidth;
matrixCanvas.height=window.innerHeight;
const fontSize=18;
const columns=Math.floor(matrixCanvas.width / fontSize);
const drops=Array(columns).fill(1);

function drawMatrix(){
  if(!matrixActive) return;
  mctx.fillStyle="rgba(0,0,0,0.05)";
  mctx.fillRect(0,0,matrixCanvas.width,matrixCanvas.height);
  mctx.fillStyle="#0F0";
  mctx.font=fontSize+"px monospace";

  for(let i=0;i<columns;i++){
    const text=String.fromCharCode(33+Math.floor(Math.random()*94));
    mctx.fillText(text,i*fontSize,drops[i]*fontSize);
    if(drops[i]*fontSize > matrixCanvas.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
  requestAnimationFrame(drawMatrix);
}

function update(){
  if(draining){
    drainProgress+=0.003;
    if(drainProgress>=1 && !matrixActive){
      matrixActive=true;
      drawMatrix();
      setTimeout(()=>{
        sessionStorage.setItem("ALLOW_PORTAL","true");
        window.location.href="portal.html";
      },2000);
    }
  }
  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
